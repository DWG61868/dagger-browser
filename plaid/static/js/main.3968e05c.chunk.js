(this.webpackJsonpdaglava2=this.webpackJsonpdaglava2||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"title":"Dagger Browser","repo_url":""}')},44:function(e,t,n){e.exports=n(87)},49:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(49),n(15)),l=n.n(i),s=n(17),u=n(2),m=n(4),h=n(20),d=n(18),p=n(21),g=n(3),f=function e(){Object(u.a)(this,e)};f.Home="/:component?",f.Component="/:component",f.Module="/module/:module",f.GraphModule="/:component/module/:module",f.GraphScope="/:component/scope/:scope",f.GraphNode="/:component/node/:node",f.GraphClosure="/:component/closure/:key",f.SubComponent="/:component/:subcomponent";var v=function e(){Object(u.a)(this,e)};v.Home="/",v.Component=function(e){return"/".concat(encodeURIComponent(e))},v.Module=function(e){return"/module/".concat(encodeURIComponent(e))},v.GraphNode=function(e,t){return"/".concat(encodeURIComponent(e),"/node/").concat(encodeURIComponent(t))},v.GraphModule=function(e,t){return"/".concat(encodeURIComponent(e),"/module/").concat(encodeURIComponent(t))},v.GraphScope=function(e,t){return"/".concat(encodeURIComponent(e),"/scope/").concat(encodeURIComponent(t))},v.GraphClosure=function(e,t){return"/".concat(encodeURIComponent(e),"/closure/").concat(encodeURIComponent(t))},v.SubComponent=function(e,t){return"/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t))};var E=v,y=n(26),b={TITLE:y.title||"Graph Browser",REPO_URL:y.repo_url||"",PUBLIC_URL:"."},k=function(e){var t=e.link;if(b.REPO_URL){var n=t.split(".").pop();return r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:b.REPO_URL+"/search?q=filename:"+n,className:"unselectable"},r.a.createElement("i",{className:"tiny material-icons"},"open_in_new"))}return r.a.createElement("span",null)},S=n(14),N=n.n(S),w=function(e){switch(e){case"INSTANCE":return{label:"I",color:"deep-purple"};case"PROVIDER":return{label:"P",color:"blue"};case"LAZY":return{label:"L",color:"indigo"};default:return}},M=function(e){var t=e.kind,n=w(t);return n?r.a.createElement("span",{className:N()("node-icon",n.color),title:t||""},n.label):r.a.createElement("span",null)},O=function(e){return e.value>e.largeThreshold?"red":e.value>e.smallThreshold?"orange":"green"},C=function(e){var t=e.weight;return t?r.a.createElement("span",null,t&&t.value>0&&r.a.createElement("span",{className:N()("unselectable","bubble",O(t)),title:t.summary},t.value," ",t.unit?t.unit:"")):r.a.createElement("span",null)};var I=function(e){var t=e.node,n=e.onSelect,a=e.weight,o=void 0===a?void 0:a,c=e.scoped,i=void 0!==c&&c,l=e.kind,s=t.scope?"[".concat(t.scope.split(".").pop(),"]"):"";return r.a.createElement("div",null,r.a.createElement("div",{className:"binding",onClick:function(){return n&&n(t.key)}},r.a.createElement("div",{className:"text"},r.a.createElement(M,{kind:l||t.kind}),i&&r.a.createElement("span",{className:"light-text"},s,"\xa0"),t.key.replace("java.util.","").replace("java.lang.","").replace("javax.inject.","").replace("io.reactivex.",""),"\xa0"),r.a.createElement("div",null,r.a.createElement(k,{link:t.key}),r.a.createElement(C,{weight:o}))))};var j=function(e){var t=e.subcomponentName,n=e.weight,a=e.onSelect;return r.a.createElement("div",null,r.a.createElement("div",{className:"binding",onClick:function(){return a&&a(t)}},r.a.createElement("div",{className:"text"},function(e){var t=e.lastIndexOf(".");return e.substring(t+1)}(t)),r.a.createElement("div",null,r.a.createElement(C,{weight:n}))))},W=n(5),_=function(e){var t=e.componentName,n=e.weight,a=void 0===n?void 0:n;return r.a.createElement("div",null,r.a.createElement("div",{className:"binding"},r.a.createElement("div",{className:"text"},r.a.createElement(W.b,{to:E.Component(t)},t)),r.a.createElement("div",null,r.a.createElement(k,{link:t}),r.a.createElement(C,{weight:a}))))},R=function(e){var t=e.graphManager,n=e.weightService,a=e.componentName,o=e.onSelect,c=t.getComponent(a),i=Object(g.f)(),l=c.nodes.filter((function(e){return!!e.scope})),s=new Set;c.nodes.filter((function(e){return void 0!=e.component&&e.component!==a})).forEach((function(e){return s.add(e.component)}));var u=c.nodes.filter((function(e){return"MEMBERS_INJECTION"===e.kind})),m=c.nodes.filter((function(e){return"MULTIBOUND_SET"===e.kind||"MULTIBOUND_MAP"===e.kind}));return l.sort((function(e,t){var r=n.getWeight(a,e.key),o=n.getWeight(a,t.key);return(o?o.value:0)-(r?r.value:0)})),m.sort((function(e,t){var r=n.getWeight(a,e.key),o=n.getWeight(a,t.key);return(o?o.value:0)-(r?r.value:0)})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},r.a.createElement(_,{componentName:a,weight:n.getWeight(a)})),u.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,"Members Injectors:"),u.map((function(e){return r.a.createElement(I,{key:e.key,weight:n.getWeight(a,e.key),scoped:!0,node:e,onSelect:function(e){return o(a,e)}})}))),s.size>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,s.size," Subcomponents:"),Array.from(s).map((function(e){return r.a.createElement(j,{subcomponentName:e,weight:t.getSubcomponentWeight(e),onSelect:function(t){return i.push(E.SubComponent(a,e))}})}))),m.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,m.length," Multibindings:"),m.map((function(e){return r.a.createElement(I,{key:e.key,weight:n.getWeight(a,e.key),scoped:!0,node:e,onSelect:function(e){return o(a,e)}})}))),l.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,l.length," Scoped Bindings:"),l.map((function(e){return r.a.createElement(I,{key:e.key,weight:n.getWeight(a,e.key),scoped:!0,node:e,onSelect:function(e){return o(a,e)}})})))))},U=n(43),z=n(40),x=n.n(z),G=40;var T=function(e){var t=e.graphManager,n=e.weightService,o=e.onSelect,c=e.componentName,i=Object(a.useState)(""),l=Object(U.a)(i,2),s=l[0],u=l[1],m=Object(a.useRef)(null),h=Object(a.useMemo)((function(){return function(e,t,n){return e.getMatches("",n.trim().toLowerCase(),G,!1)}(t,0,s)}),[t,c,s]),d=function(e){if(e&&e.metaKey)return!1;m&&m.current&&m.current.input&&m.current.input.focus()};return Object(a.useEffect)((function(){return d(),window.addEventListener("keydown",d),function(){return window.removeEventListener("keydown",d)}}),[]),r.a.createElement(x.a,{ref:m,suggestions:h,onSuggestionsFetchRequested:function(){},onSuggestionsClearRequested:function(){return u("")},onSuggestionSelected:function(e,t){o(t.suggestion.componentName,t.suggestion.node.key)},getSuggestionValue:function(e){return e.node.key},renderSuggestion:function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"light-text"},e.componentName?"["+e.componentName.split(".").pop()+"] ":""),e.node.key,r.a.createElement(C,{weight:n.getWeight(e.componentName,e.node.key)}))},inputProps:{value:s,placeholder:"Find dependencies",onChange:function(e,t){u(t.newValue)}}})};function B(e){e.weightServiceManager;return r.a.createElement("nav",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(W.b,{to:E.Home,className:"brand-logo"},b.TITLE),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("a",{href:"ComponentsManifest.json",target:"_blank",title:"Download JSON"},r.a.createElement("i",{className:"material-icons"},"file_download")))))))}var L=function(e){var t=e.graphManager,n=e.weightServiceManager,a=t.componentSet.components,o=n.getWeightService();return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},"Components"),a.map((function(e){return r.a.createElement(_,{componentName:e.name,weight:o.getWeight(e.name)})}))))},P=n(41),D=n(28),A=n.n(D);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var F="",H=function(){function e(){Object(u.a)(this,e),this.componentSet={components:[]},this.classInfo=void 0,this.nodeMap={},this.componentMap={},this.subcomponentWeights={},this.callsitesMap={}}return Object(m.a)(e,[{key:"load",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(b.PUBLIC_URL+"/ClassInfo.json");case 3:t=e.sent,this.classInfo=t.data,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,e.next=12,A.a.get(b.PUBLIC_URL+"/ComponentsManifest.json");case 12:return n=e.sent,this.componentSet=n.data,this.populateCaches(),e.abrupt("return",!0);case 18:return e.prev=18,e.t1=e.catch(9),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[0,7],[9,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMatches",value:function(e,t,n,a){var r=e?[this.getComponent(e)]:this.componentSet.components,o=[],c=!0,i=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var m=s.value,h=!0,d=!1,p=void 0;try{for(var g,f=m.nodes[Symbol.iterator]();!(h=(g=f.next()).done);h=!0){var v=g.value;if(a?v.key.toLowerCase()==t.toLowerCase()&&o.push({node:v,componentName:m.name}):v.key.toLowerCase().includes(t.toLowerCase())&&o.push({node:v,componentName:m.name}),o.length>=n)return o}}catch(E){d=!0,p=E}finally{try{h||null==f.return||f.return()}finally{if(d)throw p}}}}catch(E){i=!0,l=E}finally{try{c||null==u.return||u.return()}finally{if(i)throw l}}return o}},{key:"getComponent",value:function(e){var t=this.componentMap[e];if(!t)throw Error("Could not find ".concat(e," component"));return t}},{key:"getNode",value:function(e,t){return this.nodeMap[e||F][t]}},{key:"getModule",value:function(e,t){var n=Object.values(this.nodeMap[e]).filter((function(e){return e.module===t}));return{key:t,bindings:n}}},{key:"getScope",value:function(e,t){var n=Object.values(this.nodeMap[e]).filter((function(e){return e.scope===t}));return{scope:t,bindings:n}}},{key:"getCallsites",value:function(e,t){var n=this;return(this.callsitesMap[e][t]||[]).map((function(a){var r=n.getNode(e,a.key);if(!r)return a;var o=r.dependencies.find((function(e){return e.key===t}));return o?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Object(P.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{kind:o.kind}):a}))}},{key:"getSubcomponentWeight",value:function(e){return this.subcomponentWeights[e]}},{key:"getSubcomponentBindings",value:function(e,t){return Object.values(this.nodeMap[e]).filter((function(e){return e.component===t}))}},{key:"computeNodeWeight",value:function(e,t,n){var a=this.getNode(e,t);return a?this.computeWeightForNodes(e,[a],n):n.result()}},{key:"computeWeightForNodes",value:function(e,t,n){for(var a={};t.length;){var r=t.shift();if(r){n.reduce(r.key),a[r.key]=!0;var o=!0,c=!1,i=void 0;try{for(var l,s=r.dependencies[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;if(!a[u.key])if(this.shouldSkipWeight(e,u.key))a[u.key]=!0;else{n.reduce(u.key);var m=this.getNode(e,u.key);m&&t.push(m),a[u.key]=!0}}}catch(h){c=!0,i=h}finally{try{o||null==s.return||s.return()}finally{if(c)throw i}}}}return n.result()}},{key:"shouldSkipWeight",value:function(e,t){var n=this.getNode(e,t);return n&&"MEMBERS_INJECTION"===n.kind}},{key:"populateCaches",value:function(){var e=this;this.nodeMap[F]={},this.callsitesMap[F]={};var t=!0,n=!1,a=void 0;try{for(var r,o=this.componentSet.components[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;this.nodeMap[c.name]={},this.callsitesMap[c.name]={},this.componentMap[c.name]=c,c.nodes=c.nodes.filter((function(t){return!e.shouldSkipNode(t)}));var i=!0,l=!1,s=void 0;try{for(var u,m=c.nodes[Symbol.iterator]();!(i=(u=m.next()).done);i=!0){var h=u.value;if(this.nodeMap[c.name][h.key]=h,this.nodeMap[F][h.key]=h,h.component&&h.component!=c.name){var d=h.component;this.subcomponentWeights[d]||(this.subcomponentWeights[d]={value:0,smallThreshold:10,largeThreshold:500}),this.subcomponentWeights[d].value++}var p=!0,g=!1,f=void 0;try{for(var v,E=h.dependencies[Symbol.iterator]();!(p=(v=E.next()).done);p=!0){var y=v.value;this.callsitesMap[c.name][y.key]||(this.callsitesMap[c.name][y.key]=[]),this.callsitesMap[F][y.key]||(this.callsitesMap[F][y.key]=[]),this.callsitesMap[c.name][y.key].push(h),this.callsitesMap[F][y.key].push(h)}}catch(b){g=!0,f=b}finally{try{p||null==E.return||E.return()}finally{if(g)throw f}}}}catch(b){l=!0,s=b}finally{try{i||null==m.return||m.return()}finally{if(l)throw s}}}}catch(b){n=!0,a=b}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"shouldSkipNode",value:function(e){return"BOUND_INSTANCE"===e.kind}}]),e}();function $(e){var t=e.componentName,n=e.moduleName,a=e.graphManager,o=e.weightService,c=a.getModule(t,n),i=Object(g.f)();return c?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},"Module: ",c.key),r.a.createElement("h6",null,"Bindings"),c.bindings.map((function(e){return r.a.createElement(I,{key:e.key,weight:o.getWeight(F,e.key),scoped:!0,node:e,onSelect:function(e){i.push(E.GraphNode(t,e))}})})))):r.a.createElement("div",null,"Cannot find $",c," module in $",t," graph")}var q=n(19);function V(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(t+1)}var K=function(e){var t=e.componentName,n=e.graphs,a=e.selectGraph,o=n.map((function(e){return{value:e,label:V(e.toString())}})),c=t?{value:t,label:V(t)}:o[0];return r.a.createElement(q.a,{value:c,className:"component-select",classNamePrefix:"react-select",onChange:function(e){return a(e.value)},placeholder:"Select graph...",options:o})};function Y(e){var t=e.graphManager,n=e.weightService,a=e.componentName,o=e.nodeName,c=Object(g.f)(),i=t.getNode(a,o);if(!i)return r.a.createElement("div",null,"Cannot find ",r.a.createElement("strong",null,o)," node in ",r.a.createElement("strong",null,a)," graph");var l=i.module,s=t.getMatches("",i.key,40,!0).map((function(e){return e.componentName})),u=t.getCallsites(a,i.key);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},r.a.createElement(I,{node:i,weight:n.getWeight(a,i.key)})),r.a.createElement("p",null,r.a.createElement("span",{className:"unselectable"},"Component: "),r.a.createElement(K,{componentName:a,graphs:s,selectGraph:function(e){return c.push(E.GraphNode(e,i.key))}})),i.component&&a!==i.component&&r.a.createElement("p",null,r.a.createElement("span",{className:"unselectable"},"Subcomponent: "),r.a.createElement(W.b,{className:"soft-link",to:E.SubComponent(a,i.component)},i.component)),i.scope&&r.a.createElement("p",null,r.a.createElement("span",{className:"unselectable"},"Scope: "),r.a.createElement(W.b,{className:"soft-link",to:E.GraphScope(a,i.scope)},i.scope)),i.module&&r.a.createElement("p",null,r.a.createElement("span",{className:"unselectable"},"Module: "),l?r.a.createElement(W.b,{className:"soft-link",to:E.GraphModule(a,i.module)},l):r.a.createElement("span",null,"n/a")),r.a.createElement("br",null),r.a.createElement("h6",null,"Dependencies \xa0|\xa0",r.a.createElement(W.b,{className:"soft-link",to:E.GraphClosure(a,i.key)},"transitive")),i&&i.dependencies.map((function(e){return{node:t.getNode(a,e.key),dep:e}})).filter((function(e){return void 0!==e.node})).map((function(e){var t=e.node,o=e.dep;return r.a.createElement(I,{key:t.key,weight:n.getWeight(a,t.key),kind:o.kind,scoped:!0,node:t,onSelect:function(e){return c.push(E.GraphNode(a,e))}})})),!i||0===i.dependencies.length&&r.a.createElement("div",null,"None"),r.a.createElement("br",null),r.a.createElement("h6",null,"Callsites"),u.map((function(e){return r.a.createElement(I,{key:e.key,node:e,kind:e.kind,scoped:!0,onSelect:function(e){return c.push(E.GraphNode(a,e))}})})),0===u.length&&r.a.createElement("div",null,"None")))}function Z(e){var t=e.graphManager,n=e.weightService,a=e.componentName,o=e.scope,c=t.getScope(a,o),i=Object(g.f)();return c?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},"Scope",r.a.createElement("br",null),c.scope),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h6",null,"Bindings (",c.bindings.length,")"),c.bindings.map((function(e){return r.a.createElement(I,{key:e.key,weight:n.getWeight(F,e.key),scoped:!0,node:e,onSelect:function(e){i.push("/".concat(a,"/node/").concat(e))}})})))))):r.a.createElement("div",null,"Cannot find $",c," module in $",a," graph")}var Q="@";function X(e){var t=e.graphManager,n=e.componentName,a=e.nodeName,o=function(e,t,n){var a={},r=[n],o={},c={},i={};e.getComponent(t).nodes.forEach((function(e){var t=e.module;t&&(i[t]=(i[t]||0)+1)}));for(;0!=r.length;){var l=r.shift();if(l&&!a[l]){a[l]=!0;var s=e.getNode(t,l);if(s){if(s.module)(c[s.module]||(c[s.module]=[])).push(s);else(o[s.scope||Q]||(o[s.scope||Q]=[])).push(s);s.dependencies.forEach((function(e){r.push(e.key)}))}}}return{bindings:o,modules:c,moduleSummary:i}}(t,n,a),c=Object.keys(o.bindings).filter((function(e){return e!=Q&&"@dagger.Reusable"!=e})),i=Object.keys(o.modules),l=Object(g.f)();return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},"Transitive Dependencies: ",a),c.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,"Scoped Bindings"),c.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,function(e){var t=e.lastIndexOf(".");if(-1===t)return e;return"@"+e.substring(t+1)}(e)),o.bindings[e].map((function(e){return r.a.createElement("div",null,e.key)})))}))),i.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",null,"Module Bindings"),i.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(W.b,{className:"soft-link",to:E.GraphModule(n,e)},function(e){var t=e.split(".");if(0==t.length)return e;var n=0;for(;n<t.length&&t[n][0]!==t[n][0].toUpperCase();)n++;if(n<t.length)return t.slice(n,t.length).join(".");return e}(e)),"\xa0 (",o.modules[e].length,"/",o.moduleSummary[e],")"),o.modules[e].map((function(e){return r.a.createElement(I,{key:e.key,node:e,kind:e.kind,scoped:!0,onSelect:function(t){return l.push(E.GraphNode(n,e.key))}})})))})))))}var ee=function(e){var t=e.graphManager,n=e.subcomponentName,a=e.componentName,o=e.weightService,c=t.getSubcomponentBindings(a,n),i=Object(g.f)();return c.sort((function(e,t){var n=o.getWeight(a,e.key),r=o.getWeight(a,t.key);return(r?r.value:0)-(n?n.value:0)})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},n),r.a.createElement("div",null,c.length," total bindings."),r.a.createElement("div",null,c.map((function(e){return r.a.createElement(I,{key:e.key,weight:o.getWeight(a,e.key),kind:e.kind,scoped:!0,node:e,onSelect:function(t){return i.push(E.GraphNode(a,e.key))}})})))))},te=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).metricOptions=void 0,n.metricOptions=n.props.weightServiceManager.getWeightServiceNames().map((function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})),n.state=n.metricOptions[0],n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(q.a,{className:"component-select weight-select",classNamePrefix:"react-select",value:this.state,onChange:function(t){var n=t;e.setState(n),e.props.onSelectWeight(n.value)},options:this.metricOptions})}}]),t}(r.a.Component),ne=(n(84),function(e){var t=e.graphManager,n=e.weightServiceManager,o=e.componentName,c=Object(a.useMemo)((function(){return o&&t.getComponent(o)}),[t,o]),i=Object(g.f)(),l=n.getWeightService(),s=n.getWeightServiceNames().length>1;return r.a.createElement("div",null,r.a.createElement(B,{weightServiceManager:n}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row search-bar"},r.a.createElement("div",{className:N()("col",s?"s9":"s12")},r.a.createElement(T,{graphManager:t,weightService:l,componentName:c&&c.name,onSelect:function(e,t){return i.push(E.GraphNode(e||"",t))}})),s&&r.a.createElement("div",{className:"col s3"},r.a.createElement(te,{weightServiceManager:n,onSelectWeight:function(e){n.selectWeightService(e),i.replace("#")}}))),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:f.Module,render:function(e){return r.a.createElement($,{graphManager:t,weightService:l,moduleName:decodeURIComponent(e.match.params.module),componentName:o})}}),r.a.createElement(g.a,{path:f.GraphModule,render:function(e){return r.a.createElement($,{graphManager:t,weightService:l,moduleName:decodeURIComponent(e.match.params.module),componentName:o})}}),r.a.createElement(g.a,{path:f.GraphScope,render:function(e){return r.a.createElement(Z,{graphManager:t,weightService:l,scope:decodeURIComponent(e.match.params.scope),componentName:o})}}),r.a.createElement(g.a,{path:f.GraphClosure,render:function(e){return r.a.createElement(X,{graphManager:t,nodeName:decodeURIComponent(e.match.params.key),componentName:o})}}),r.a.createElement(g.a,{path:f.GraphNode,render:function(e){return r.a.createElement(Y,{graphManager:t,weightService:l,nodeName:decodeURIComponent(e.match.params.node),componentName:o})}}),r.a.createElement(g.a,{path:f.SubComponent,render:function(e){return r.a.createElement(ee,{graphManager:t,subcomponentName:decodeURIComponent(e.match.params.subcomponent),componentName:o,weightService:l})}}),r.a.createElement(g.a,{path:f.Component,render:function(e){return r.a.createElement(R,{componentName:decodeURIComponent(e.match.params.component),graphManager:t,weightService:l,onSelect:function(e,t){return i.push(E.GraphNode(e||"",t))}})}}),r.a.createElement(g.a,{path:"",render:function(e){return r.a.createElement(L,{graphManager:t,weightServiceManager:n})}}))))}),ae=n(42),re=500,oe=10,ce=function(){function e(t){Object(u.a)(this,e),this.nodeWeights=void 0,this.graphManager=void 0,this.graphManager=t,this.nodeWeights={}}return Object(m.a)(e,[{key:"getWeight",value:function(e,t){return t?(this.nodeWeights[e]||(this.nodeWeights[e]={}),this.nodeWeights[e][t]||(this.nodeWeights[e][t]=this.graphManager.computeNodeWeight(e,t,new ie)),this.nodeWeights[e][t]):{value:this.graphManager.getComponent(e).nodes.length,largeThreshold:re,smallThreshold:oe}}}]),e}(),ie=function(){function e(){Object(u.a)(this,e),this.weight=void 0,this.weight={value:0,largeThreshold:re,smallThreshold:oe}}return Object(m.a)(e,[{key:"reduce",value:function(e){this.weight.value++}},{key:"result",value:function(){return this.weight}}]),e}(),le=function(){function e(t){Object(u.a)(this,e),this.classInfo=void 0,this.classInfo=t}return Object(m.a)(e,[{key:"getSummary",value:function(){var e=this.classInfo.size,t="B";return e>=1024&&(e=Math.round(e/1024),t="kB"),"dex size: ".concat(e," ").concat(t)+"\nmethods: ".concat(this.classInfo.method_count)+(this.classInfo.lambda_count?"\nlambdas: ".concat(this.classInfo.lambda_count):"")+"\nfields: ".concat(this.classInfo.field_count)+(this.classInfo.inner_class_count?"\ninner classes: ".concat(this.classInfo.inner_class_count):"")}},{key:"getMemorySize",value:function(){return this.classInfo.size+60*this.classInfo.method_count+30*this.classInfo.field_count}},{key:"add",value:function(e){if(this.classInfo.method_count+=e.classInfo.method_count,e.classInfo.lambda_count){var t=this.classInfo.lambda_count||0;this.classInfo.lambda_count=t+e.classInfo.lambda_count}if(this.classInfo.field_count+=e.classInfo.field_count,this.classInfo.size+=e.classInfo.size,e.classInfo.inner_class_count){var n=this.classInfo.inner_class_count||0;this.classInfo.inner_class_count=n+e.classInfo.inner_class_count}}}]),e}(),se=function(){function e(t){Object(u.a)(this,e),this.classInfo=void 0,this.classInfo=t}return Object(m.a)(e,[{key:"getWeight",value:function(e,t){var n=t?this.getClassSize(t):0;if(n)return{value:Math.round(n.getMemorySize()/1024),largeThreshold:20,smallThreshold:3,summary:n.getSummary(),unit:"kB"}}},{key:"getClassSize",value:function(e){var t=this.classInfo[e];if(t)return new le(t)}}]),e}(),ue=function(){function e(t,n){Object(u.a)(this,e),this.nodeWeights=void 0,this.graphManager=void 0,this.classSizeService=void 0,this.graphManager=t,this.classSizeService=n,this.nodeWeights={}}return Object(m.a)(e,[{key:"getWeight",value:function(e,t){if(this.nodeWeights[e]||(this.nodeWeights[e]={}),t){if(!this.nodeWeights[e][t]){var n=new me(this.classSizeService,t);this.nodeWeights[e][t]=this.graphManager.computeNodeWeight(e,t,n)}return this.nodeWeights[e][t]}if(!this.nodeWeights[e][e]){var a=Object.assign([],this.graphManager.getComponent(e).nodes),r=new me(this.classSizeService,e);this.nodeWeights[e][e]=this.graphManager.computeWeightForNodes(e,a,r)}return this.nodeWeights[e][e]}}]),e}(),me=function(){function e(t,n){Object(u.a)(this,e),this.classSize=void 0,this.classSizeService=void 0,this.reduced=void 0,this.classSizeService=t,this.reduced=new Set;this.classSize=new le({field_count:0,method_count:0,lambda_count:0,size:0,inner_class_count:0});var a=this.classSizeService.getClassSize(n);a&&this.classSize.add(a)}return Object(m.a)(e,[{key:"reduce",value:function(e){if(!this.reduced.has(e)){this.reduced.add(e);var t=this.classSizeService.getClassSize(e);t&&this.classSize.add(t)}}},{key:"result",value:function(){return{value:Math.round(this.classSize.getMemorySize()/1024),largeThreshold:1e3,smallThreshold:50,summary:this.classSize.getSummary(),unit:"kB"}}}]),e}(),he=function(){function e(t){if(Object(u.a)(this,e),this.weightServices=void 0,this.weightService=void 0,this.weightServices={},this.weightService=this.weightServices.bindings=new ce(t),t.classInfo&&Object.keys(t.classInfo).length){var n=new se(t.classInfo);this.weightServices["class memory"]=n,this.weightServices["graph memory"]=new ue(t,n)}}return Object(m.a)(e,[{key:"getWeightServiceNames",value:function(){return Object.keys(this.weightServices).sort()}},{key:"getWeightService",value:function(){return this.weightService}},{key:"selectWeightService",value:function(e){this.weightService=this.weightServices[e]}}]),e}(),de=new H,pe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).weightServiceManager=void 0,n.state={},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.load();case 2:(t=e.sent)&&(this.weightServiceManager=new he(de)),this.setState({loaded:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loaded?r.a.createElement(W.a,null,r.a.createElement(ae.a,{ReactRouterRoute:g.a},r.a.createElement(g.a,{path:f.Home,render:function(t){return r.a.createElement(ne,{componentName:t.match.params.component?decodeURIComponent(t.match.params.component):"",graphManager:de,weightServiceManager:e.weightServiceManager})}}))):""}}]),t}(r.a.Component);c.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.3968e05c.chunk.js.map